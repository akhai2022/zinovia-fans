ENVIRONMENT=local
DATABASE_URL=postgresql+asyncpg://zinovia:zinovia@postgres:5432/zinovia
# Optional for no-worker deployments; required when using Redis-backed rate limits/queues.
REDIS_URL=redis://redis:6379/0
MINIO_ENDPOINT=minio:9000
# Optional: use for presigned URLs so host browser can reach (e.g. local E2E verify)
# MINIO_PUBLIC_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=minio123
MINIO_BUCKET=zinovia-media
MINIO_SECURE=false
JWT_SECRET=change-me
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60
COOKIE_SECURE=false
COOKIE_SAMESITE=lax
# Optional: set for shared cookies across subdomains in production (e.g. .zinovia.com)
COOKIE_DOMAIN=
CSRF_SECRET=change-me
# CORS: comma-separated origins for browser requests (allow_credentials=true)
CORS_ORIGINS=http://localhost:3000
# Creator onboarding (Feature 1)
KYC_WEBHOOK_HMAC_SECRET=dev-secret-change-in-prod
APP_BASE_URL=http://localhost:3000
API_BASE_URL=http://localhost:8000
PUBLIC_WEB_BASE_URL=http://localhost:3000
MAIL_PROVIDER=console
MAIL_FROM=noreply@zinovia.ai
# Stripe (leave empty to disable billing; see docs/runbook/stripe-local.md)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=whsec_placeholder
# Optional during rotation window only.
STRIPE_WEBHOOK_SECRET_PREVIOUS=
CHECKOUT_SUCCESS_URL=http://localhost:3000/billing/success
CHECKOUT_CANCEL_URL=http://localhost:3000/billing/cancel
# Set STRIPE_WEBHOOK_TEST_BYPASS=true only in test env to skip signature verification in tests
STRIPE_WEBHOOK_TEST_BYPASS=false
PLATFORM_FEE_PERCENT=10
MEDIA_URL_TTL_SECONDS=300
RATE_LIMIT_MAX=10
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_LIKES_PER_MIN=60
RATE_LIMIT_COMMENTS_PER_MIN=30
# Watermark on derived variants only (see docs/runbook/media.md). Default: false locally; set true in staging/prod.
# MEDIA_WATERMARK_ENABLED=false
# MEDIA_WATERMARK_TEXT=Published on Zinovia-Fans
# MEDIA_WATERMARK_VARIANTS=grid,full
# MEDIA_WATERMARK_HEIGHT_PCT=0.08
# MEDIA_WATERMARK_OPACITY=0.55
# MEDIA_WATERMARK_BG=true
# MEDIA_WATERMARK_PADDING_PCT=0.04
# MEDIA_WATERMARK_TEXT_ALIGN=left
# MEDIA_WATERMARK_INCLUDE_HANDLE=false
# Storage: minio (local) or s3 (AWS). For s3 set STORAGE=s3 and S3_BUCKET.
# STORAGE=minio
# S3_BUCKET=
# AWS_REGION=
# Image max size (bytes). Video has separate MEDIA_MAX_VIDEO_BYTES.
# MEDIA_MAX_IMAGE_BYTES=26214400
# Video (MP4 MVP)
# MEDIA_ALLOW_VIDEO=true
# MEDIA_MAX_VIDEO_BYTES=200000000
# MEDIA_VIDEO_POSTER_ENABLED=true
# MEDIA_VIDEO_POSTER_TIME_SEC=1.0
# MEDIA_VIDEO_POSTER_MAX_WIDTH=640
# Feature flags (default OFF in production until QA)
ENABLE_LIKES=false
ENABLE_COMMENTS=false
ENABLE_NOTIFICATIONS=false
ENABLE_VAULT=false
ENABLE_SCHEDULED_POSTS=false
ENABLE_PROMOTIONS=false
ENABLE_DM_BROADCAST=false
ENABLE_PPV_POSTS=false
ENABLE_PPVM=false
ENABLE_MODERATION=false
ENABLE_ANALYTICS=false
ENABLE_MOBILE_NAV_POLISH=false
# Temporary: allow mock KYC in production until real KYC vendor integrated.
ENABLE_MOCK_KYC=false
DEFAULT_CURRENCY=eur
MIN_PPV_CENTS=100
MAX_PPV_CENTS=20000
PPV_INTENT_RATE_LIMIT_PER_MIN=10
SEED_ADMIN_EMAIL=admin@example.com
SEED_ADMIN_PASSWORD=change-me
